<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product</title>
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body style="margin: 15px;">
  <h1>Product Management</h1>
    <span> <label for="">Productn Name : </label>
    <input type="text" id="pname">

     <label for="" style="margin-left: 185px;">Category : </label>
    <input type="text" id="pcategory">
</span>
<br><br>
<span>
    <label for="" >Price : </label>
    <input type="text" id="price">

    <label for="" style="margin-left: 250px;">Image URL : </label>
    <input type="text" id="url">
</span>
<br>
    <button onclick="addPro()" id="edit">ADD</button>
    <span>
    <div class="card" style="width: 18rem;" id="card"> 
    <p class="card-text" id="body"></p>
</div></span>
    <script>
      arr = [];
      ei = -1;
        function addPro() {
            productname = document.getElementById("pname").value;
            productcategory = document.getElementById("pcategory").value;
            price = document.getElementById("price").value;
            producturl = document.getElementById("url").value;
            Product = {
              ProductName : productname,
              Category:productcategory,
              Price : price,
              URL : producturl
            }
       
            if (ei != -1) {
              
              // arr[ei] = arr[i].ProductName;
              // arr[ei] = arr[i].Category;
              // arr[ei] = arr[i].Price;
              // arr[ei] = arr[i].URL;
              arr[ei] = Product
              ei = -1
              document.getElementById("edit").innerHTML = "Add";
            }
            else {
                if (pname==''|| pcategory==''||price==''||producturl=='') {
                    alert("Enter Name");
                }
                else {
                    arr.push(Product);
            }
          }
            display();
           productname = document.getElementById("pname").value ="";
            productcategory = document.getElementById("pcategory").value = '';
            productprice = document.getElementById("price").value= '';
            produtcurl = document.getElementById("url").value= '';
        
      }
         function display() {
            temp = ''
            for (i = 0; i < arr.length; i++) {
                temp += `<span><p>
                  ${arr[i].ProductName}<br>
                  ${arr[i].Category}<br>
                  ${arr[i].Price}<br>
                <img src=${arr[i].URL} /></p>
                <button onclick = 'editMe(${i})'>Edit</button> 
                 <button onclick='deleteElement(${i})'>Delete</button></span><br><br>`
              }                

            document.getElementById("body").innerHTML = temp;
         }
          
         function deleteElement(i) {
            arr.splice(i, 1);
            display();
        }
         function editMe(i) {
            ei = i;
            document.getElementById("pname").value = arr[i].ProductName;
            document.getElementById("pcategory").value = arr[i].Category;
            document.getElementById("price").value = arr[i].Price;
            document.getElementById("url").value = arr[i].URL;
             document.getElementById("edit").innerHTML = "Edit";
        }
    </script>
</body>
</html>